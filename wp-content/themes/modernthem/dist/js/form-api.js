!function(r){jQuery.fn.ajaxForm=function(t){function n(n){var s=n.attr("action"),a=n.find(":submit").attr("disabled","disabled").addClass("loader");n.addClass("sending"),r.ajax(s,{type:"post",data:n.serialize(),dataType:"json",success:function(r){a.removeAttr("disabled").removeClass("loader"),n.removeClass("sending"),void 0!=r.url&&(document.location=r.url),-1!=r.error.indexOf("success")?t.onSuccess.apply(n,[r.error,r.extra]):t.onError.apply(n,[r.error,r.extra])},error:function(){alert("Произошла неизвестная ошибка. Мы приносим свои извинения. Попробуйте перезагрузить страницу и повторить свои действия.")}})}t=r.extend({onStart:function(){return!0},onSuccess:function(){},onError:function(){}},t);var s=function(){r(this).addClass("ajaxed")};return r(this).submit(function(){return $this=r(this),$this.hasClass("sending")||!t.onStart.apply(this)?!1:(n($this),!1)}),this.each(s)}}(jQuery);